#Generated Time: $Timestamp
FROM microsoft/dotnet:$IMAGETYPE-aspnetcore-runtime AS base
ENV HOME=/home/$USERNAME
RUN mkdir -p ${HOME}

RUN groupadd -r -g 3000 $GROUP &&\
useradd -r -u 1000 -g $GROUP -d ${HOME} -s /sbin/nologin -c "Docker app user" $USERNAME

ENV COMPlus_EnableDiagnostics=0
WORKDIR /app
EXPOSE 5001

FROM base AS final
WORKDIR /app
COPY /app/publish .

ENTRYPOINT ["dotnet", "$DLLNAME"]


